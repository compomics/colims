<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
    <query name="Peptide.getPeptideDTOByProteinGroupId">
        select peptide, peptideHasProteinGroup.peptideProbability, peptideHasProteinGroup.peptidePostErrorProbability
        from Peptide as peptide
        join peptide.peptideHasProteinGroups as peptideHasProteinGroup
        left join fetch peptide.peptideHasModifications as peptideHasModification
        left join fetch peptideHasModification.modification as modification
        join fetch peptide.spectrum as spectrum
        where peptideHasProteinGroup.proteinGroup.id = :proteinGroupId
    </query>
</hibernate-mapping>